<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Trading Simulation</title>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<style>
		body {
			background-color: #121212;
			color: #e0e0e0;
			font-family: Arial, sans-serif;
			padding: 20px;
		}

		h1 {
			color: #ffffff;
		}

		.input-group {
			margin-bottom: 10px;
		}

		label {
			display: inline-block;
			width: 200px;
			color: #e0e0e0;
		}

		input[type="number"],
		input[type="range"],
		select {
			width: 120px;
			background-color: #1e1e1e;
			border: 1px solid #333;
			color: #e0e0e0;
			padding: 4px;
			border-radius: 4px;
		}

		input[type="range"] {
			-webkit-appearance: none;
			height: 6px;
			background: #333;
			border-radius: 3px;
		}

		input[type="range"]::-webkit-slider-thumb {
			-webkit-appearance: none;
			width: 14px;
			height: 14px;
			background: #777;
			border-radius: 50%;
			cursor: pointer;
		}

		button {
			background-color: #333;
			color: #e0e0e0;
			border: 1px solid #444;
			border-radius: 4px;
			cursor: pointer;
		}

		button:disabled {
			background-color: #2a2a2a;
			color: #555;
			cursor: not-allowed;
		}

		hr {
			border: none;
			height: 1px;
			background-color: #333;
			margin: 15px 0;
		}

		#summary,
		#multiSummary {
			margin-top: 20px;
		}

		#summary h1,
		#multiSummary h1 {
			margin: 0;
			font-size: 20px;
		}

		#summary h2,
		#multiSummary h2 {
			margin: 5px 0 0 0;
			font-size: 16px;
			font-weight: normal;
			color: #cccccc;
		}

		#simResult {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
		}

		#journal {
			margin: 10px;
			display: flex;
			flex-wrap: wrap;
			max-width: 800px;
		}

		.journal-day {
			border: 1px solid #333;
			background-color: #1e1e1e;
			padding: 8px;
			margin: 5px;
			box-sizing: border-box;
			width: calc(20% - 10px);
			opacity: 0;
			transition: opacity 0.3s;
			border-radius: 4px;
		}

		.journal-day h3 {
			margin: 0 0 5px 0;
			font-size: 14px;
			color: #ffffff;
		}

		.journal-day ul {
			margin: 0 0 5px 15px;
			padding: 0;
		}

		.journal-day ul li {
			list-style-type: disc;
			margin-left: 5px;
			color: #e0e0e0;
		}

		.journal-day .pnl {
			font-weight: bold;
			font-size: 13px;
			color: #cccccc;
		}

		.canvas-container {
			margin: 10px;
			width: 100%;
			max-width: 800px;
			/* margin: 20px auto; */
		}

		canvas {
			width: 100%;
			height: 400px !important;
			background-color: #1e1e1e;
			border: 1px solid #333;
			border-radius: 4px;
		}
	</style>
</head>

<body>
	<h1>Can you pass the challenge?</h1>
	<div class="input-group">
		<label for="monthlyGoal">Profit Goal:</label>
		<input type="number" id="monthlyGoal" value="3000" />
	</div>
	<div class="input-group">
		<label for="fail">Fail Threshold:</label>
		<input type="number" id="fail" value="-1500" />
	</div>
	<div class="input-group">
		<label for="tradingDays">Trading Days:</label>
		<input type="number" id="tradingDays" value="20" />
	</div>
	<div class="input-group">
		<label for="chanceTrade">Chance of Trading/Day:</label>
		<input type="number" id="chanceTrade" value="60" step="0.1" /> %
		(3/5 days is 60%, 4/5 is 80% etc)
	</div>
	<hr>
	<div class="input-group">
		<label for="maxTrades">Max Trades/Day:</label>
		<input type="number" id="maxTrades" value="1" />
	</div>
	<div class="input-group">
		<label for="risk">Risk per Trade:</label>
		$ <input type="number" id="risk" value="500" />
	</div>
	<div class="input-group">
		<label for="rrMin">Risk:Reward Range:</label>
		<input type="number" id="rrMin" value="1.5" step="0.1" /> ..
		<input type="number" id="rrMax" value="2.0" step="0.1" />
	</div>
	<div class="input-group">
		<label for="winRate">Trade Win Rate:</label>
		<input type="number" id="winRate" value="60" step="0.1" /> %
	</div>
	<hr>
	<h2>Simulation</h2>
	<div style="display: flex; flex-wrap: wrap; gap: 20px;">
		<div>
			<h3>Single pass</h3>
			<div class="input-group">
				<label for="speedRange">Single Simulation Speed:</label>
				<input type="range" id="speedRange" min="1" max="61" step="1" value="10" />
				<span id="speedLabel"></span>
			</div>
			<button id="runSim">Run Simulation</button>
		</div>
		<div>
			<h3>Multi pass simulation</h3>
			<div class="input-group">
				<label for="numRuns">Number of Simulations:</label>
				<input type="number" id="numRuns" value="100" />
			</div>
			<div class="input-group">
				<label for="multiSpeedRange">Multi Simulation Speed:</label>
				<input type="range" id="multiSpeedRange" min="1" max="121" step="1" value="25" />
				<span id="multiSpeedLabel"></span>
			</div>
			<button id="runMulti">Run Multi Simulation</button>
		</div>
	</div>
	<hr>
	<div>
		<div id="multiSummary"></div>
		<div id="summary"></div>
		<div id="simResult">
			<div id="journal"></div>
			<div class="canvas-container">
				<canvas id="balanceChart"></canvas>
			</div>
		</div>
	</div>
	<hr>
	<div class="input-group">
		<h3>Success optimizer</h3>
		<p>
			Run the simulation multiple times, plotting the success rate for multiple values of a single variable.
			All other variables are kept unchanged, so you can see how each variable affects your overall probability
			and so you can find the sweet spot of one parameter e.g.: Risk($).
		</p>
		<label for="sweepVar">Sweep Variable:</label>
		<select id="sweepVar">
			<option value="risk">Risk per Trade</option>
			<option value="rrMin">RR Min</option>
			<option value="rrMax">RR Max</option>
			<option value="winRate">Win Rate (%)</option>
			<option value="chanceTrade">Chance Trade (%)</option>
			<option value="tradingDays">Trading Days</option>
			<option value="maxTrades">Max Trades/Day</option>
			<option value="monthlyGoal">Monthly Goal</option>
			<option value="failThreshold">Fail Threshold</option>
		</select>
	</div>
	<div class="input-group">
		<label for="sweepMin">Start value:</label>
		<input type="number" id="sweepMin" value="100" />
	</div>
	<div class="input-group">
		<label for="sweepMax">End value:</label>
		<input type="number" id="sweepMax" value="1500" />
	</div>
	<div class="input-group">
		<label for="sweepStep">Step:</label>
		<input type="number" id="sweepStep" value="50" />
	</div>
	<div class="input-group">
		<label for="sweepRuns">Simulations per step:</label>
		<input type="number" id="sweepRuns" value="10000" />
	</div>
	<button id="runSweep">Run Sweep</button>
	<div class="canvas-container">
		<canvas id="sweepChart"></canvas>
	</div>

	<script>
		let balanceChartInstance = null;
		let sweepChartInstance = null;

		const speedRange = document.getElementById('speedRange');
		const speedLabel = document.getElementById('speedLabel');
		speedRange.oninput = () => {
			const speedVal = parseInt(speedRange.value, 10);
			const tps = speedVal >= parseInt(speedRange.max, 10) ? 'Instant' : speedVal + ' trade/s';
			speedLabel.textContent = tps;
		};
		speedRange.oninput();

		const multiSpeedRange = document.getElementById('multiSpeedRange');
		const multiSpeedLabel = document.getElementById('multiSpeedLabel');
		multiSpeedRange.oninput = () => {
			const speedVal = parseInt(multiSpeedRange.value, 10);
			const tps = speedVal >= parseInt(multiSpeedRange.max, 10) ? 'Uncapped' : speedVal + ' sims/s';
			multiSpeedLabel.textContent = tps;
		};
		multiSpeedRange.oninput();

		function prepareSimulationData(params) {
			const { monthlyGoal, failThreshold, tradingDays, maxTrades, chanceTrade, risk, rrMin, rrMax, winRate } = params;
			let balance = 0;
			let stopped = false;
			let stopDay = tradingDays;
			let totalTrades = 0;
			let winCount = 0;
			let lossCount = 0;
			const balanceHistory = [];
			const dayTrades = [];

			for (let day = 1; day <= tradingDays; day++) {
				if (stopped) {
					balanceHistory.push(balance);
					dayTrades.push([]);
					continue;
				}
				if (Math.random() > chanceTrade) {
					balanceHistory.push(balance);
					dayTrades.push([]);
					continue;
				}
				const tradesThisDay = [];
				for (let t = 0; t < maxTrades; t++) {
					if (stopped) break;
					const isWin = Math.random() < winRate;
					const rr = rrMin + Math.random() * (rrMax - rrMin);
					const profitOrLoss = isWin ? risk * rr : -risk;
					balance += profitOrLoss;
					tradesThisDay.push((isWin ? "+" : "-") + Math.abs(profitOrLoss).toFixed(0));
					if (isWin) winCount++; else lossCount++;
					totalTrades++;
					if (balance >= monthlyGoal) {
						stopped = true;
						stopDay = day;
					} else if (balance <= failThreshold) {
						stopped = true;
						stopDay = day;
					}
				}
				balanceHistory.push(balance);
				dayTrades.push(tradesThisDay);
			}

			return {
				balanceHistory,
				dayTrades,
				finalBalance: balance,
				stopDay,
				totalTrades,
				winCount,
				lossCount
			};
		}

		function animateSimulation(data, delay, params, disableAnim, callback) {
			const { balanceHistory, dayTrades, finalBalance, stopDay, totalTrades, winCount, lossCount } = data;
			const tradingDays = balanceHistory.length;
			if (balanceChartInstance) balanceChartInstance.destroy();
			const ctx = document.getElementById('balanceChart').getContext('2d');
			balanceChartInstance = new Chart(ctx, {
				type: 'line',
				data: {
					labels: ['Day 0'],
					datasets: [{
						label: 'Balance',
						data: [0],
						borderColor: '#00bcd4',
						backgroundColor: 'rgba(0, 188, 212, 0.2)',
						fill: true,
						tension: 0.2
					}]
				},
				options: {
					animation: disableAnim ? false : { duration: 300 },
					plugins: {
						legend: {
							labels: { color: '#e0e0e0' }
						}
					},
					scales: {
						x: {
							title: { display: true, text: 'Trading Day', color: '#e0e0e0' },
							ticks: { color: '#e0e0e0' },
							grid: { color: '#333' }
						},
						y: {
							title: { display: true, text: 'Balance ($)', color: '#e0e0e0' },
							ticks: { color: '#e0e0e0' },
							grid: { color: '#333' }
						}
					}
				}
			});

			const journalContainer = document.getElementById('journal');
			journalContainer.innerHTML = '';
			for (let i = 0; i < tradingDays; i++) {
				const dayDiv = document.createElement('div');
				dayDiv.className = 'journal-day';
				journalContainer.appendChild(dayDiv);
			}

			function displaySummary() {
				const statusColor = finalBalance >= params.monthlyGoal ? '#4caf50'
					: finalBalance <= params.failThreshold ? '#f44336'
						: '#ffeb3b';
				const status = finalBalance >= params.monthlyGoal
					? 'You reached the Goal!'
					: finalBalance <= params.failThreshold
						? 'You Failed!'
						: 'You did not complete the Goal!';
				const winPct = totalTrades > 0 ? ((winCount / totalTrades) * 100).toFixed(1) : '0.0';
				const pnlText = finalBalance >= 0 ? '$' + finalBalance.toFixed(0) + ' profit'
					: '$' + Math.abs(finalBalance).toFixed(0) + ' loss';
				const daysText = stopDay;
				const summaryDiv = document.getElementById('summary');
				summaryDiv.innerHTML = `
					<h1 style="color: ${statusColor};">${status}</h1>
					<h2>${pnlText} in ${daysText} days, Total of ${totalTrades} trades, ${winCount} wins, ${lossCount} losses (${winPct}%)</h2>
				`;
				if (callback) callback();
			}

			if (delay === 0) {
				for (let i = 0; i < tradingDays; i++) {
					updateDay(i + 1);
				}
				displaySummary();
			} else {
				let i = 0;
				const step = () => {
					if (i < tradingDays) {
						updateDay(i + 1);
						i++;
						if (i === tradingDays) {
							displaySummary();
						} else {
							setTimeout(step, delay);
						}
					}
				};
				step();
			}

			function updateDay(dayIndex) {
				const trades = dayTrades[dayIndex - 1];
				const pnl = trades.reduce((sum, val) => sum + parseFloat(val), 0);
				balanceChartInstance.data.labels.push('Day ' + dayIndex);
				balanceChartInstance.data.datasets[0].data.push(balanceHistory[dayIndex - 1]);
				balanceChartInstance.update();

				const dayDiv = journalContainer.children[dayIndex - 1];
				if (pnl > 0) dayDiv.style.backgroundColor = '#2e7d32';
				else if (pnl < 0) dayDiv.style.backgroundColor = '#c62828';
				else dayDiv.style.backgroundColor = '#424242';

				const dayHeader = document.createElement('h3');
				dayHeader.textContent = 'Day ' + dayIndex;
				dayDiv.appendChild(dayHeader);

				if (trades.length > 0) {
					const ul = document.createElement('ul');
					trades.forEach(val => {
						const li = document.createElement('li');
						li.textContent = val;
						if (val.startsWith('+')) li.style.color = '#81c784';
						else li.style.color = '#e57373';
						ul.appendChild(li);
					});
					dayDiv.appendChild(ul);
				} else {
					const noTrade = document.createElement('div');
					noTrade.textContent = 'No trades';
					noTrade.style.color = '#bbbbbb';
					dayDiv.appendChild(noTrade);
				}

				const pnlDiv = document.createElement('div');
				pnlDiv.className = 'pnl';
				pnlDiv.textContent = 'PnL: $' + pnl.toFixed(0);
				dayDiv.appendChild(pnlDiv);
				dayDiv.style.opacity = 1;
			}
		}

		document.getElementById('runSim').addEventListener('click', () => {
			const runButton = document.getElementById('runSim');
			const multiButton = document.getElementById('runMulti');
			const sweepButton = document.getElementById('runSweep');
			runButton.disabled = true;
			multiButton.disabled = true;
			sweepButton.disabled = true;
			document.getElementById('summary').innerHTML = '';
			document.getElementById('multiSummary').innerHTML = '';
			document.getElementById('journal').innerHTML = '';
			if (balanceChartInstance) balanceChartInstance.destroy();

			const monthlyGoal = parseFloat(document.getElementById('monthlyGoal').value);
			const failThreshold = parseFloat(document.getElementById('fail').value);
			const tradingDays = parseInt(document.getElementById('tradingDays').value, 10);
			const maxTrades = parseInt(document.getElementById('maxTrades').value, 10);
			const chanceTrade = parseFloat(document.getElementById('chanceTrade').value) / 100;
			const risk = parseFloat(document.getElementById('risk').value);
			const rrMin = parseFloat(document.getElementById('rrMin').value);
			const rrMax = parseFloat(document.getElementById('rrMax').value);
			const winRate = parseFloat(document.getElementById('winRate').value) / 100;
			const speedVal = parseInt(speedRange.value, 10);
			const delay = speedVal >= parseInt(speedRange.max, 10) ? 0 : Math.round(1000 / speedVal);

			window.params = { monthlyGoal, failThreshold, tradingDays, maxTrades, chanceTrade, risk, rrMin, rrMax, winRate };

			const data = prepareSimulationData(window.params);
			animateSimulation(data, delay, window.params, false, () => {
				runButton.disabled = false;
				multiButton.disabled = false;
				sweepButton.disabled = false;
			});
		});

		document.getElementById('runMulti').addEventListener('click', () => {
			const runButton = document.getElementById('runSim');
			const multiButton = document.getElementById('runMulti');
			const sweepButton = document.getElementById('runSweep');
			runButton.disabled = true;
			multiButton.disabled = true;
			sweepButton.disabled = true;
			document.getElementById('summary').innerHTML = '';
			document.getElementById('multiSummary').innerHTML = '';
			document.getElementById('journal').innerHTML = '';
			if (balanceChartInstance) balanceChartInstance.destroy();

			const monthlyGoal = parseFloat(document.getElementById('monthlyGoal').value);
			const failThreshold = parseFloat(document.getElementById('fail').value);
			const tradingDays = parseInt(document.getElementById('tradingDays').value, 10);
			const maxTrades = parseInt(document.getElementById('maxTrades').value, 10);
			const chanceTrade = parseFloat(document.getElementById('chanceTrade').value) / 100;
			const risk = parseFloat(document.getElementById('risk').value);
			const rrMin = parseFloat(document.getElementById('rrMin').value);
			const rrMax = parseFloat(document.getElementById('rrMax').value);
			const winRate = parseFloat(document.getElementById('winRate').value) / 100;
			const numRuns = parseInt(document.getElementById('numRuns').value, 10);
			const multiSpeedVal = parseInt(multiSpeedRange.value, 10);
			const simDelay = multiSpeedVal >= parseInt(multiSpeedRange.max, 10) ? 0 : Math.round(1000 / multiSpeedVal);

			const paramsMulti = { monthlyGoal, failThreshold, tradingDays, maxTrades, chanceTrade, risk, rrMin, rrMax, winRate };

			let passedCount = 0;
			let failedCount = 0;
			let incompleteCount = 0;
			let sumFinalBalance = 0;
			let sumDays = 0;
			let sumTrades = 0;
			let sumWins = 0;
			let sumLosses = 0;
			let lastData;

			if (simDelay === 0) {
				for (let i = 0; i < numRuns; i++) {
					const data = prepareSimulationData(paramsMulti);
					lastData = data;
					sumFinalBalance += data.finalBalance;
					sumDays += data.stopDay;
					sumTrades += data.totalTrades;
					sumWins += data.winCount;
					sumLosses += data.lossCount;
					if (data.finalBalance >= monthlyGoal) passedCount++;
					else if (data.finalBalance <= failThreshold) failedCount++;
					else incompleteCount++;
				}
				animateSimulation(lastData, 0, paramsMulti, true, () => {
					const avgBalance = (sumFinalBalance / numRuns).toFixed(2);
					const avgDays = (sumDays / numRuns).toFixed(2);
					const avgTrades = (sumTrades / numRuns).toFixed(2);
					const avgWinPct = sumTrades > 0 ? ((sumWins / sumTrades) * 100).toFixed(1) : '0.0';
					const successRate = ((passedCount / numRuns) * 100).toFixed(2);
					const multiDiv = document.getElementById('multiSummary');
					multiDiv.innerHTML = `
						<h1>Multi Simulation Results (${numRuns} runs)</h1>
						<h2>Success rate: ${successRate}% (Passed: ${passedCount}, Failed: ${failedCount}, Incomplete: ${incompleteCount})</h2>
						<h2>Avg Final Balance: $${avgBalance}, Avg Days: ${avgDays}, Avg Trades: ${avgTrades}, Avg Win %: ${avgWinPct}%</h2>
					`;
					runButton.disabled = false;
					multiButton.disabled = false;
					sweepButton.disabled = false;
				});
			} else {
				let runIndex = 0;
				function runNextSimulation() {
					if (runIndex >= numRuns) {
						animateSimulation(lastData, 0, paramsMulti, true, () => {
							const avgBalance = (sumFinalBalance / numRuns).toFixed(2);
							const avgDays = (sumDays / numRuns).toFixed(2);
							const avgTrades = (sumTrades / numRuns).toFixed(2);
							const avgWinPct = sumTrades > 0 ? ((sumWins / sumTrades) * 100).toFixed(1) : '0.0';
							const successRate = ((passedCount / numRuns) * 100).toFixed(2);
							const multiDiv = document.getElementById('multiSummary');
							multiDiv.innerHTML = `
								<h1>Multi Simulation Results (${numRuns} runs)</h1>
								<h2>Success rate: ${successRate}% (Passed: ${passedCount}, Failed: ${failedCount}, Incomplete: ${incompleteCount})</h2>
								<h2>Avg Final Balance: $${avgBalance}, Avg Days: ${avgDays}, Avg Trades: ${avgTrades}, Avg Win %: ${avgWinPct}%</h2>
							`;
							runButton.disabled = false;
							multiButton.disabled = false;
							sweepButton.disabled = false;
						});
						return;
					}
					const data = prepareSimulationData(paramsMulti);
					lastData = data;
					sumFinalBalance += data.finalBalance;
					sumDays += data.stopDay;
					sumTrades += data.totalTrades;
					sumWins += data.winCount;
					sumLosses += data.lossCount;
					if (data.finalBalance >= monthlyGoal) passedCount++;
					else if (data.finalBalance <= failThreshold) failedCount++;
					else incompleteCount++;

					animateSimulation(data, 0, paramsMulti, true, () => {
						runIndex++;
						setTimeout(runNextSimulation, simDelay);
					});
				}
				runNextSimulation();
			}
		});

		document.getElementById('runSweep').addEventListener('click', () => {
			const runButton = document.getElementById('runSim');
			const multiButton = document.getElementById('runMulti');
			const sweepButton = document.getElementById('runSweep');
			runButton.disabled = true;
			multiButton.disabled = true;
			sweepButton.disabled = true;
			if (sweepChartInstance) sweepChartInstance.destroy();

			const baseMonthlyGoal = parseFloat(document.getElementById('monthlyGoal').value);
			const baseFailThreshold = parseFloat(document.getElementById('fail').value);
			let baseTradingDays = parseInt(document.getElementById('tradingDays').value, 10);
			let baseMaxTrades = parseInt(document.getElementById('maxTrades').value, 10);
			const baseChanceTrade = parseFloat(document.getElementById('chanceTrade').value) / 100;
			const baseRisk = parseFloat(document.getElementById('risk').value);
			const baseRrMin = parseFloat(document.getElementById('rrMin').value);
			const baseRrMax = parseFloat(document.getElementById('rrMax').value);
			const baseWinRate = parseFloat(document.getElementById('winRate').value) / 100;

			const sweepVar = document.getElementById('sweepVar').value;
			const minVal = parseFloat(document.getElementById('sweepMin').value);
			const maxVal = parseFloat(document.getElementById('sweepMax').value);
			const stepVal = parseFloat(document.getElementById('sweepStep').value);
			const runsPerVal = parseInt(document.getElementById('sweepRuns').value, 10);

			const xValues = [];
			const yValues = [];

			for (let v = minVal; v <= maxVal; v += stepVal) {
				let passedCount = 0;
				for (let i = 0; i < runsPerVal; i++) {
					let monthlyGoal = baseMonthlyGoal;
					let failThreshold = baseFailThreshold;
					let tradingDays = baseTradingDays;
					let maxTrades = baseMaxTrades;
					let chanceTrade = baseChanceTrade;
					let risk = baseRisk;
					let rrMin = baseRrMin;
					let rrMax = baseRrMax;
					let winRate = baseWinRate;

					if (sweepVar === 'chanceTrade') chanceTrade = v / 100;
					else if (sweepVar === 'winRate') winRate = v / 100;
					else if (sweepVar === 'risk') risk = v;
					else if (sweepVar === 'rrMin') rrMin = v;
					else if (sweepVar === 'rrMax') rrMax = v;
					else if (sweepVar === 'tradingDays') tradingDays = Math.round(v);
					else if (sweepVar === 'maxTrades') maxTrades = Math.round(v);
					else if (sweepVar === 'monthlyGoal') monthlyGoal = v;
					else if (sweepVar === 'failThreshold') failThreshold = v;

					const params = { monthlyGoal, failThreshold, tradingDays, maxTrades, chanceTrade, risk, rrMin, rrMax, winRate };
					const data = prepareSimulationData(params);
					if (data.finalBalance >= monthlyGoal) passedCount++;
				}
				const successRate = (passedCount / runsPerVal) * 100;
				xValues.push(v);
				yValues.push(successRate.toFixed(2));
			}

			const ctx = document.getElementById('sweepChart').getContext('2d');
			sweepChartInstance = new Chart(ctx, {
				type: 'line',
				data: {
					labels: xValues,
					datasets: [{
						label: 'Success Rate (%)',
						data: yValues,
						borderColor: '#00ff00',
						backgroundColor: 'rgba(0, 235, 59, 0.2)',
						fill: true,
						tension: 0.2
					}]
				},
				options: {
					plugins: {
						legend: {
							labels: { color: '#e0e0e0' }
						}
					},
					scales: {
						x: {
							title: { display: true, text: sweepVar, color: '#e0e0e0' },
							ticks: { color: '#e0e0e0' },
							grid: { color: '#333' }
						},
						y: {
							title: { display: true, text: 'Success Rate (%)', color: '#e0e0e0' },
							ticks: { color: '#e0e0e0' },
							grid: { color: '#333' },
							beginAtZero: true,
							max: 100
						}
					}
				}
			});

			runButton.disabled = false;
			multiButton.disabled = false;
			sweepButton.disabled = false;
		});
	</script>
</body>

</html>
